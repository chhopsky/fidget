<!DOCTYPE html>
<html>
    <head>
        <title>
            fidget
        </title>
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@chhopsky" />
        <meta name="twitter:title" content="adhd pastel color clicker" />
        <meta name="twitter:description" content="click the page. see pretty colors." />
        <meta name="twitter:image" content="https://downloads.chhopsky.tv/fidget/colors-preview.png" />

        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://downloads.chhopsky.tv/fidget/colors.html" />
        <meta property="og:title" content="adhd pastel color clicker" />
        <meta property="og:description" content="click the page. see pretty colors." />
        <meta property="og:image" content="https://downloads.chhopsky.tv/fidget/colors-preview.png" />
        <link rel="stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script language="JavaScript">
            var cssprefix = getCssValuePrefix()

            function getCssValuePrefix()
            {
                var rtrnVal = '';//default to standard syntax
                var prefixes = ['-o-', '-ms-', '-moz-', '-webkit-'];

                // Create a temporary DOM object for testing
                var dom = document.createElement('div');

                for (var i = 0; i < prefixes.length; i++)
                {
                    // Attempt to set the style
                    dom.style.background = prefixes[i] + 'linear-gradient(#000000, #ffffff)';

                    // Detect if the style was successfully set
                    if (dom.style.background)
                    {
                        rtrnVal = prefixes[i];
                    }
                }

                dom = null;
                delete dom;

                return rtrnVal;
            }

            function randomHSL(hslseed, alpha){
                return "hsla(" + hslseed + "," +
                                "70%,"+
                                "80%," + alpha + ")"
            }

            function gethexcolor() {
                var dom = document.createElement('div');

                dom = null;
                delete dom;
            }

            function pageclick()
            {
                var element = document.getElementById("main");
                var header = document.getElementById("top");
                var footer = document.getElementById("bot");
                var gradient = document.getElementById("gradient");
                var hslseed = ~~(360 * Math.random());
                header.style.backgroundColor = randomHSL(hslseed, "0.5");
                if (gradient.checked) {
                    element.style.backgroundColor = "#FFFFFF"
                    element.style.backgroundImage = cssprefix + "linear-gradient(" + randomHSL(hslseed, "0.8") + ", " + randomHSL(hslseed, "0.4") + ")";
                }
                else {
                    element.style.backgroundImage = "none"
                    element.style.backgroundColor = randomHSL(hslseed, "0.8");
                }
                footer.style.backgroundColor = randomHSL(hslseed, "0.5");
                let thin = RGBAtoHex(footer.style.backgroundColor);
                $('#hexcolor').html(thin);
                console.log(thin)
            }

            function RGBAtoHex(RGBA){
                var rgb = RGBA.replace(/^rgba?\(|\s+|\)$/g,'').split(',');
                for(var i in rgb) {
                console.log(rgb[i]);
                }
                let r = rgb[0];
                let g = rgb[1];
                let b = rgb[2];
                let a = "0.7";
                r2 = 255;
                g2 = 255;
                b2 = 255;
                var r3 = Math.round(((1 - a) * r2) + (a * r));
                var g3 = Math.round(((1 - a) * g2) + (a * g));
                var b3 = Math.round(((1 - a) * b2) + (a * b));
                return rgbToHex(r3, g3, b3)
                }

                function componentToHex(c) {
                    var hex = c.toString(16);
                    return hex.length == 1 ? "0" + hex : hex;
                }

                function rgbToHex(r, g, b) {
                    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
                }

        </script>
    </head>
    <body>
        
        <div id="top" class="header"><input id="gradient" type="checkbox" checked>gradient <span id="hexcolor">#FFFFFF</span></div>
        <div id="main" class="mainbody" onClick="pageclick()">
            <p>click at all the pretty colors</p>
            <p>and dream of what might have been</p>
        </div>
        <div id="bot" class="footer">&nbsp;<a href="https://chhopsky.tv">chhopsky.tv</a></div>
    </body>
</html>